<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header-css}"></head>

<body>
<div th:replace="~{fragments/header :: navbar}"></div>
<div class="container mt-5">
    <div class="card">
        <div class="card-header"><h2>All User Bookings</h2></div>
        <div class="card-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Booking ID</th>
                        <th>User Name</th>
                        <th>User Email</th>
                        <th>Bus Details</th>
                        <th>Route</th>
                        <th>Seats</th>
                        <th>Status</th>
                        <th>Booking Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="booking : ${bookings}">
                        <td th:text="${booking.id}"></td>
                        <td th:text="${booking.user.fullName}"></td>
                        <td th:text="${booking.user.email}"></td>
                        <td th:text="${booking.schedule.bus.busName}"></td>
                        <td th:text="${booking.schedule.source} + ' to ' + ${booking.schedule.destination}"></td>
                        <td th:text="${booking.seatNumbers}"></td>
                        <td>
                           <span class="badge" th:classappend="${booking.status == 'CONFIRMED'} ? 'bg-success' : 'bg-danger'" th:text="${booking.status}"></span>
                        </td>
                        <td th:text="${#temporals.format(booking.bookingDate, 'dd-MMM-yyyy')}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div th:replace="~{fragments/footer :: footer}"></div>
<div th:replace="~{fragments/footer :: scripts}"></div>
</body>
</html>